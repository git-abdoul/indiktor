<f:subview id="updateMetricDomainResource" 
		xmlns:h="http://java.sun.com/jsf/html"
 	    xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ice="http://www.icesoft.com/icefaces/component"> 
	<ice:panelGrid columns="1">
		<ice:panelGrid columns="2">
			<ice:outputLabel value="Domain Type"/>
			<ice:outputText style="width:250px" value="#{metricDomainResourceSelectionBean.metricDomainResourceBean.domainType}" rendered="#{metricDomainResourceSelectionBean.metricDomainResourceBean.metricDomainResource.id > 0}"/>
			<ice:selectOneMenu value="#{ikrStaticDomainSelectorBean.domainTypeId}"
							   valueChangeListener="#{ikrStaticDomainSelectorBean.onChangeDomainType}"
							   rendered="#{metricDomainResourceSelectionBean.metricDomainResourceBean.metricDomainResource.id == 0}"
							   partialSubmit="true" style="width:250px">
				<f:selectItems value="#{ikrStaticDomainSelectorBean.domainTypeItems}"/>
			</ice:selectOneMenu>
		    
		    <ice:outputLabel value="Metric Domain"/>
		    <ice:outputText style="width:250px" value="#{metricDomainResourceSelectionBean.metricDomainResourceBean.metricDomain}" rendered="#{metricDomainResourceSelectionBean.metricDomainResourceBean.metricDomainResource.id > 0}"/>
		    <ice:selectOneMenu value="#{ikrStaticDomainSelectorBean.metricDomainId}"
		    				   valueChangeListener="#{ikrStaticDomainSelectorBean.onChangeMetricDomain}"
		    				   rendered="#{metricDomainResourceSelectionBean.metricDomainResourceBean.metricDomainResource.id == 0}"
							   partialSubmit="true" style="width:250px">
				<f:selectItems value="#{ikrStaticDomainSelectorBean.metricDomainItems}"/>
			</ice:selectOneMenu>
			
			<ice:outputLabel value="Resource Name"/> 
			<ice:inputText value="#{metricDomainResourceSelectionBean.metricDomainResourceBean.metricDomainResource.resourceName}" style="width:250px"/>
		</ice:panelGrid>	
		<HR/>
		<ice:panelGroup style="width: 100%;">		
			<table width="100%">
				<tr valign="top">
					<td width="400px">
						<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 100%;">							
							<ice:panelGroup style="width: 100%; text-align: center;" rendered="#{metricDomainResourceSelectionBean.metricDomainResourceBean.renderIkrCatgoryResourceConfig}">
								<ice:outputLabel value="Add Ikr Category Resource"/>
								<ice:dataTable id="MetricDomainResourceConfig"
											   value="#{metricDomainResourceSelectionBean.metricDomainResourceBean.ikrCategoriesWithNoResources}" 
											   var="categoryResourceBean"								   
											   cellspacing="0" cellpadding="0" border="0"
											   style="width: 100%; text-align: center; border: 0px;"
											   columnWidths="20, 340"
											   scrollable="true" scrollHeight="400px">	
									<ice:column>
										<f:facet name="header">
										</f:facet>	
										<ice:panelGroup style="text-align: center; font-size: 11px;">
											<ice:commandButton style="float: center;" 
															   image="/images/IndiKtor2.0/Buttons/addSmall.png"
														   	   title="Add new metric category resource"														   	   
														   	   actionListener="#{metricDomainResourceSelectionBean.metricDomainResourceBean.addMetricCategoryResource}">
												<f:attribute name="metricCategoryResource" value="#{categoryResourceBean}"/>
											</ice:commandButton>
										</ice:panelGroup> 							
									</ice:column>
									<ice:column>
										<f:facet name="header">
											<ice:outputLabel value="Metric Category"/>
										</f:facet>	
										<ice:panelGroup style="text-align: left; font-size: 11px;">
											<ice:outputText value="#{categoryResourceBean.metricCategory}" style="font-size: 10px; width: 300px;"/>
										</ice:panelGroup> 							
									</ice:column>	
									<!-- 
									<ice:column>													
										<f:facet name="header">
											<ice:outputLabel value="Resource"/>
										</f:facet>	
										<ice:panelGroup style="text-align: left; font-size: 11px;">
											<ice:inputText value="#{categoryResourceBean.categoryResource.name}" style="font-size: 10px; width: 150px;"/>
										</ice:panelGroup> 							
									</ice:column>
									 -->
								</ice:dataTable>
								<BR/>
						    </ice:panelGroup>										   	   
							<ice:panelGrid columns="1" rendered="#{!metricDomainResourceSelectionBean.metricDomainResourceBean.renderIkrCatgoryResourceConfig}" style="width: 100%; text-align: center">
								<ice:outputLabel style="font-size: 10px; width: 100%;" value="WARNING !!!"/>
								<BR/>
								<ice:panelGrid style="width: 100%; text-align: left;">
									<ice:outputText style="font-size: 10px; width: 100%;" value="No Metric Category is available for Category Resource setting."/>	
									<ice:panelGrid columns="2" style="text-align: left;">
										<ice:outputText style="font-size: 10px; width: 100%;" value="To add a new Metric Category, "/>	 
										<ice:commandLink value="Click Here" action="#{metricDomainResourceSelectionBean.navigateToMetricDomainConfig}"/> 
									</ice:panelGrid>									
									<ice:outputText style="font-size: 10px; width: 100%;" value="After the Metric Category has been added, come back on this screen to setup the corresponding Category Resource"/>
								</ice:panelGrid>	    
							</ice:panelGrid>
						</ice:panelGroup>
					</td>
					<td width="20px"/>
					<td width="400px">
						<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 100%;">
							<ice:outputLabel value="Ikr Category Resources"/>
							<ice:dataTable id="MetricDomainResourceList"
										   value="#{metricDomainResourceSelectionBean.metricDomainResourceBean.categoryResourceBeans}" 
										   var="categoryResourceBean"								   
										   cellspacing="0" cellpadding="0" border="0"
										   style="width: 100%;"
									       rows="#{metricDomainResourceSelectionBean.rowsByPage}"
							  			   scrollable="true" scrollHeight="400px"
							  			   columnWidths="165, 165, 20">
								<ice:column>
									<f:facet name="header">
										<ice:outputLabel value="Metric Category"/>
									</f:facet>	
									<ice:panelGroup style="text-align: left; font-size: 11px;">
										<ice:outputText value="#{categoryResourceBean.metricCategory}" style="font-size: 10px;"/>
									</ice:panelGroup> 							
								</ice:column>		
								<ice:column>													
									<f:facet name="header">
										<ice:outputLabel value="Resource"/>
									</f:facet>	
									<ice:panelGroup style="text-align: left; font-size: 11px;">
										<ice:inputText value="#{categoryResourceBean.categoryResource.name}" style="font-size: 10px; width: 160px;"/>
									</ice:panelGroup> 							
								</ice:column>	
								<ice:column style="text-align: center;">
									<f:facet name="header">
										<ice:commandButton image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
													   	   title="delete all metric category resources"
													   	   actionListener="#{metricDomainResourceSelectionBean.metricDomainResourceBean.removeAllCategoryResources}">
										</ice:commandButton>
									</f:facet>	
									<ice:commandButton image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
												   	   title="delete new metric category resource"
												   	   actionListener="#{metricDomainResourceSelectionBean.metricDomainResourceBean.removeCategoryResource}">
										<f:attribute name="metricCategoryResource" value="#{categoryResourceBean}"/>
									</ice:commandButton>						
								</ice:column>	
								<!-- 
								<ice:column>
									<f:facet name="header">
										<ice:outputLabel value="Enable"/>
									</f:facet>	
									<ice:panelGroup style="text-align: left; font-size: 11px;">
										<ice:selectBooleanCheckbox value="#{categoryResourceBean.categoryResource.activated}"/>
									</ice:panelGroup> 							
								</ice:column>
								-->
							</ice:dataTable>
							<BR/>
						</ice:panelGroup>
					</td>
				</tr>
			</table>
		</ice:panelGroup>
	</ice:panelGrid>
</f:subview>