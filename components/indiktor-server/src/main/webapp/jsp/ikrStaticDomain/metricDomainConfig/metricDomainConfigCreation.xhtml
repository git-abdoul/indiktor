<f:subview id="updateMetricDomainConfig" 
		xmlns:h="http://java.sun.com/jsf/html"
 	    xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ice="http://www.icesoft.com/icefaces/component"> 
	<table border="0px" width="760px">
		<tr bordercolor="#FFFFFF" align="center">
			<td align="center">
				<ice:panelTabSet width="710px" height="560px"> 
					<ice:panelTab id="tab1" label="Properties">
						<ice:panelGroup style="align: center; width: 700px;" scrollHeight="555px">	
						<ice:panelGrid columns="1">		
							<ice:panelGrid columns="2">
								<ice:outputLabel value="Domain Type"/>
								<ice:outputText value="#{ikrStaticDomainSelectorBean.domainType.label}" rendered="#{metricDomainConfigCreationBean.update}"/>
								<ice:selectOneMenu value="#{ikrStaticDomainSelectorBean.domainTypeId}"
												   valueChangeListener="#{ikrStaticDomainSelectorBean.onChangeDomainType}"
												   rendered="#{metricDomainConfigCreationBean.update == false}"
												   partialSubmit="true" style="width:250px">
										<f:selectItems value="#{ikrStaticDomainSelectorBean.domainTypeItems}"/>
								</ice:selectOneMenu>									    
								<ice:outputLabel value="Metric Domain"/>
								<ice:outputText value="#{ikrStaticDomainSelectorBean.metricDomain.label}" rendered="#{metricDomainConfigCreationBean.update}"/>
								<ice:selectOneMenu value="#{ikrStaticDomainSelectorBean.metricDomainId}"
								   				   valueChangeListener="#{ikrStaticDomainSelectorBean.onChangeMetricDomain}"
								   				   rendered="#{metricDomainConfigCreationBean.update == false}"
												   partialSubmit="true" style="width:250px">
										<f:selectItems value="#{ikrStaticDomainSelectorBean.metricDomainItems}"/>
								</ice:selectOneMenu>
							</ice:panelGrid>
							<BR/>
							<ice:outputLabel value="Description:"/>
							<ice:inputText value="#{metricDomainConfigCreationBean.metricDomainConfig.description}"
										   title="#{metricDomainConfigCreationBean.metricDomainConfig.description}"
										   style="#{metricDomainConfigCreationBean.descriptionStyle}"/>
							<ice:outputLabel value="Mandatory"
										   style="color: red; font-size: 10px;"
										   rendered="#{metricDomainConfigCreationBean.descriptionMandatory}"/>
							<ice:outputLabel value="This description is already used !"
										   style="color: red; font-size: 10px;"
										   rendered="#{metricDomainConfigCreationBean.descriptionError}"/>
							<ice:outputLabel value="Please, choose another description."
										   style="color: red; font-size: 10px;"
										   rendered="#{metricDomainConfigCreationBean.descriptionError}"/>
										   
							<ice:outputLabel value="Class name:"/>
							<ice:inputText value="#{metricDomainConfigCreationBean.metricDomainConfig.className}"
										   title="#{metricDomainConfigCreationBean.metricDomainConfig.className}"
										   style="#{metricDomainConfigCreationBean.classNameStyle}"/>
							<ice:outputLabel value="Mandatory"
										   style="color: red; font-size: 10px;"
										   rendered="#{metricDomainConfigCreationBean.classNameMandatory}"/>
							<ice:outputLabel value="This class name is already used !"
										   style="color: red; font-size: 10px;"
										   rendered="#{metricDomainConfigCreationBean.classNameError}"/>
							<ice:outputLabel value="Please, choose another class name."
										   style="color: red; font-size: 10px;"
										   rendered="#{metricDomainConfigCreationBean.classNameError}"/>
							<BR/>
							<ice:outputLabel value="Use Data Synchronization:"/>
							<ice:selectBooleanCheckbox value="#{metricDomainConfigCreationBean.metricDomainConfig.useDataSynchronization}" 
														valueChangeListener="#{metricDomainConfigCreationBean.useDataSynchronizationValueChanged}" 
														partialSubmit="true"/>
							<BR/>
							<ice:outputLabel value="Domain Resources:"/>
							<ice:panelGroup style="width: 100%;">
								<table width="100%">
									<tr valign="top">
										<td width="260px">
											<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 260px;">
												<ice:outputLabel value="Add Domain Resource"/>
												 <BR/><BR/>
												<ice:panelGroup rendered="#{metricDomainConfigCreationBean.rendererResourceConfig}" style="width: 100%">
										    		<ice:selectOneMenu 	value="#{metricDomainConfigCreationBean.selectedResource}"
										    							partialSubmit="true"
										    						   	valueChangeListener="#{metricDomainConfigCreationBean.onChangeResourceValue}"
										    						   	style="width:230px">
														<f:selectItems value="#{metricDomainConfigCreationBean.resourceSelectItems}"/>
													</ice:selectOneMenu>
													<ice:commandButton actionListener="#{metricDomainConfigCreationBean.addNewResource}"
																	   image="/images/IndiKtor2.0/Buttons/addSmall.png"
													    			   value="Add Resource"
													    			   title="Add Resource"/>
										    	</ice:panelGroup>
										    	<ice:outputText value="No Resource available" style="font-size: 10px;" rendered="#{!metricDomainConfigCreationBean.rendererResourceConfig}"/>	
								  			</ice:panelGroup>
										</td>
										<td width="20px"/>
										<td width="300px">
											<ice:panelGroup style="#{metricDomainConfigCreationBean.resourceStyle}">
												<ice:dataTable  id="domainResourcesTable"
									    		  	    value="#{metricDomainConfigCreationBean.resources}"
									                	var="configResource"		
									                	rendered="#{metricDomainConfigCreationBean.resourceListRenderered}"
									                	cellpadding="0"
									                	scrollable="true" scrollHeight="130px"
									                	columnWidths="220, 50, 20">									        		
									        		<ice:column>													
														<f:facet name="header">
													       <ice:outputText value="Name"/>
														</f:facet>
												       	<ice:outputText value="#{configResource.resource.resourceName}" style="font-size: 10px; width: 220px;"/>
													</ice:column>
													<ice:column style="text-align: center;">													
														<f:facet name="header">
													       <ice:outputText value="Enabled"/>
														</f:facet>
														 <ice:selectBooleanCheckbox value="#{configResource.enabled}"/>
													</ice:column>
									                <ice:column style="width: 20px; text-align: center;">													
														<f:facet name="header">
														</f:facet>
												       	<ice:commandButton	image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
																			actionListener="#{metricDomainConfigCreationBean.removeResource}"
																			title="Delete this Resource Type">
															<f:attribute name="resourceName" value="#{configResource.resource.resourceName}"/>	
														</ice:commandButton>
													</ice:column>		
									           	</ice:dataTable>
												<ice:outputText value="WARNING!!! No Domain Resource configured"
																style="font-size: 10px; color: red; font-weight: bold; text-align: center;"
																rendered="#{!metricDomainConfigCreationBean.resourceListRenderered}"/>
												<BR/><BR/><BR/>
												<ice:outputLabel value="A metric domain config must have at least one domain resource."
															   	 style="color: red; font-size: 10px;"
															     rendered="#{metricDomainConfigCreationBean.resourceMandatory}"/>		
											</ice:panelGroup>
										</td>
									</tr>
								</table>
							</ice:panelGroup>
							<BR/>
							<ice:outputLabel value="Connector Types:"/>
							<ice:panelGroup style="width: 100%;">
								<table width="100%">
									<tr valign="top">
										<td width="260px">
											<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 260px;">
												<ice:outputLabel value="Add Connector Type"/>
												 <BR/><BR/>
												<ice:panelGrid rendered="#{metricDomainConfigCreationBean.rendererConnectorTypeConfig}"
																style="width: 100%" columns="2">
										    		<ice:selectOneMenu 	value="#{metricDomainConfigCreationBean.selectedConnectorType}"
										    							partialSubmit="true"
										    						   	valueChangeListener="#{metricDomainConfigCreationBean.onChangeConnectorTypeValue}"
										    						   	style="width:230px">
														<f:selectItems value="#{metricDomainConfigCreationBean.connectorTypeSelectItems}"/>
													</ice:selectOneMenu>
													<ice:commandButton actionListener="#{metricDomainConfigCreationBean.validateNewConnectorType}"
																	   image="/images/IndiKtor2.0/Buttons/addSmall.png"
													    			   value="Add Type"
													    			   title="Add Type"/>
										    	</ice:panelGrid>
										    	<ice:outputText value="No Connector Type available" style="font-size: 10px;" rendered="#{!metricDomainConfigCreationBean.rendererConnectorTypeConfig}"/>	
								  			</ice:panelGroup>
										</td>
										<td width="20px"/>
										<td width="300px">
											<ice:panelGroup style="#{metricDomainConfigCreationBean.connectorStyle}">
												<ice:dataTable  id="connectionTypeTable"
									    		  	    value="#{metricDomainConfigCreationBean.connectorTypes}"
									                	var="connectorType"		
									                	rendered="#{metricDomainConfigCreationBean.connectorTypeListRenderered}"
									                	cellpadding="0"
									                	scrollable="true" scrollHeight="100px"
									                	columnWidths="265, 20">									        		
									        		<ice:column>													
														<f:facet name="header">
													       <ice:outputText value="Type"/>
														</f:facet>
												       	<ice:outputText value="#{connectorType}" style="font-size: 10px; width: 265px;"/>
													</ice:column>
									                <ice:column style="width: 20px; text-align: center;">													
														<f:facet name="header">
														</f:facet>
												       	<ice:commandButton	image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
																			actionListener="#{metricDomainConfigCreationBean.removeConnectorType}"
																			title="Delete this Connector Type">
															<f:attribute name="connectorType" value="#{connectorType}"/>	
														</ice:commandButton>
													</ice:column>		
									           	</ice:dataTable>
												<ice:outputText value="WARNING!!! No Connector Type configured"
																style="font-size: 10px; color: red; font-weight: bold;"
																rendered="#{!metricDomainConfigCreationBean.connectorTypeListRenderered}"/>
												<BR/><BR/><BR/>
												<ice:outputLabel value="A metric domain config must have at least one connector type."
															   	 style="color: red; font-size: 10px;"
															     rendered="#{metricDomainConfigCreationBean.connectorMandatory}"/>		
											</ice:panelGroup>
										</td>
									</tr>
								</table>
							</ice:panelGroup>
							<BR/>
							<ice:outputLabel value="Extensions:"/>
							<ice:panelGroup style="width: 100%;">
								<table width="100%">
									<tr valign="top">
										<td width="260px">
											<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 260px;">
												<ice:outputLabel value="Add New Extension"/>
												 <BR/><BR/>
												<ice:panelGrid columns="1" style="width: 100%">
										    		<ice:outputLabel value="Description:"/>
													<ice:inputText value="#{metricDomainConfigCreationBean.extensionToAdd.description}" style="width:250px"/>
													<ice:outputLabel value="ClassName:"/>
													<ice:inputText value="#{metricDomainConfigCreationBean.extensionToAdd.className}" style="width:250px"/>
													<ice:commandButton actionListener="#{metricDomainConfigCreationBean.addNewExtensionConfig}"
																	   image="/images/IndiKtor2.0/Buttons/addSmall.png"
													    			   value="Add Extension"
													    			   title="Add Extension"
													    			   style="float: right;"/>
										    	</ice:panelGrid>
										    </ice:panelGroup>
										</td>
										<td width="20px"/>
										<td width="300px">
											<ice:panelGroup style="border: 1px solid #336699; height: 137px; width: 345px; text-align: center;">
												<ice:panelGrid columns="2" style="text-align: center;">											
													<ice:dataTable  id="extensionConfigTable"
										    		  	    value="#{metricDomainConfigCreationBean.extensionConfigs}"
										                	var="extensionConfBean"		
										                	rendered="#{metricDomainConfigCreationBean.extensionConfigListRenderered}"
										                	cellpadding="0"
										                	scrollable="true" scrollHeight="90px"
										                	columnWidths="20, 100, 100, 20">	
										                <ice:column>													
															<f:facet name="header">
															</f:facet>
													       	<ice:selectBooleanCheckbox 	value="#{extensionConfBean.selected}" 
													       								valueChangeListener="#{metricDomainConfigCreationBean.extensionConfigCheckboxValueChanged}" 
													       								partialSubmit="true">
													       		<f:attribute name="description" value="#{extensionConfBean.extensionConfig.description}"/>
																<f:attribute name="className" value="#{extensionConfBean.extensionConfig.className}"/>	
													       	</ice:selectBooleanCheckbox>
														</ice:column>									        		
										        		<ice:column>	
										        			<f:facet name="header">
														       <ice:outputText value="Description"/>
															</f:facet>
													       	<ice:outputText value="#{extensionConfBean.extensionConfig.description}"
													       					title="#{extensionConfBean.extensionConfig.description}"
													       					style="font-size: 10px; width: 100px;"/>
														</ice:column>
										                <ice:column>													
															<f:facet name="header">
														       <ice:outputText value="ClassName"/>
															</f:facet>
													       	<ice:outputText value="#{extensionConfBean.extensionConfig.className}"
													       					title="#{extensionConfBean.extensionConfig.className}"
													       					style="font-size: 10px; width: 100px;"/>
														</ice:column>	
														 <ice:column>													
															<f:facet name="header">
															</f:facet>
													       	<ice:commandButton	image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
																				actionListener="#{metricDomainConfigCreationBean.removeExtensionConfig}"
																				title="Delete this extension">
																<f:attribute name="description" value="#{extensionConfBean.extensionConfig.description}"/>
																<f:attribute name="className" value="#{extensionConfBean.extensionConfig.className}"/>	
															</ice:commandButton>
														</ice:column>		
										           	</ice:dataTable>
													
													<ice:panelGroup rendered="#{metricDomainConfigCreationBean.extensionConfigListRenderered}">
														<ice:commandButton image="/images/IndiKtor2.0/Buttons/arrowUp.png"
																   	       title="Move up this metric view"
																   	   	   style="padding-bottom: 3px;"
																   	   	   actionListener="#{metricDomainConfigCreationBean.upExtensionConfigPriority}"/>
														<BR/>
														<ice:commandButton image="/images/IndiKtor2.0/Buttons/arrowDown.png"
																   	   	   title="Move down this metric view"
																   	   	   style="padding-top: 3px;"
																   	   	   actionListener="#{metricDomainConfigCreationBean.downExtensionConfigPriority}"/>
														<!-- 
														<BR/>
														<ice:commandButton                 
													 		actionListener="#{metricDomainConfigCreationBean.upExtensionConfigPriority}"
													 		image="/images/icon_set_arrows_up.jpg"
													 		title="up" onfocus="this.blur();"/>
														<BR/>			
														<ice:commandButton                 
													 		actionListener="#{metricDomainConfigCreationBean.downExtensionConfigPriority}"
													 		image="/images/icon_set_arrows_down.jpg"
													 		title="Down" onfocus="this.blur();"/>
													 	 -->
												 	</ice:panelGroup>
												</ice:panelGrid>
												<ice:outputText value="No Extension configured"
																style="font-size: 10px; color: red; font-weight: bold; text-align: center;"
																rendered="#{!metricDomainConfigCreationBean.extensionConfigListRenderered}"/>							
											</ice:panelGroup>	
										</td>
									</tr>
								</table>
							</ice:panelGroup>
						</ice:panelGrid>			
						</ice:panelGroup>
					</ice:panelTab>
					<ice:panelTab id="tab2" label="Attribute Fields">
						<ice:panelGroup columns="1"  style="align: center; width: 705px;" scrollHeight="555px">
							<table border="0" cellpadding="10">
								<tr valign="top" style="font-size: 11px; font-weight: bold">
									<td align="left">
										<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 100%;">
											<ice:outputLabel value="Add/Modify Attribute Field Config"/>
											 <BR/><BR/>
											<ice:panelGrid columns="1" style="width: 100%">
									    		<ice:panelGrid columns="2">
													<ice:outputLabel value="Key"/>
													<ice:inputText value="#{metricDomainConfigCreationBean.configFieldToAdd.name}"
																   style="#{metricDomainConfigCreationBean.keyStyle}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.keyMandatory}"/>
													<ice:outputLabel value="Mandatory"
																     style="color: red; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.keyMandatory}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.keyError}"/>
													<ice:outputLabel value="This key is already used !"
																     style="color: red; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.keyError}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.keyError}"/>
													<ice:outputLabel value="Please, choose another key."
																     style="color: red; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.keyError}"/>
																										
													<ice:outputLabel value="Label"/>
													<ice:inputText value="#{metricDomainConfigCreationBean.configFieldToAdd.label}"
																   style="#{metricDomainConfigCreationBean.labelStyle}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.labelMandatory}"/>
													<ice:outputLabel value="Mandatory"
																     style="color: red; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.labelMandatory}"/>																     
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:outputLabel value="This label is already used for another key"
																     style="color: orange; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:outputLabel value="You might choose another label !"
																     style="color: orange; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:outputLabel value="Would you like to add anyway ?"
																     style="color: orange; font-size: 10px;"
																     rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
													<ice:commandButton 	image="/images/IndiKtor2.0/Buttons/validateSmall.png"
													     			 	actionListener="#{metricDomainConfigCreationBean.addAnyway}"
													     			 	title="Add anyway"
													     			 	rendered="#{metricDomainConfigCreationBean.labelAlreadyUsed}"/>
																   
													<ice:outputLabel value="Type"/>
													<ice:selectOneRadio value="#{metricDomainConfigCreationBean.configFieldToAdd.fieldType}" 
																		partialSubmit="true"
																		valueChangeListener="#{metricDomainConfigCreationBean.fieldTypeValueChanged}"
																		style="font-size: 10px;">
														<f:selectItems value="#{metricDomainConfigCreationBean.fieldTypeItems}"/>				
													</ice:selectOneRadio>
													<ice:outputLabel value="Type Values" rendered="#{metricDomainConfigCreationBean.renderFieldTypeValues}"/>
													<ice:panelGrid columns="2" rendered="#{metricDomainConfigCreationBean.renderFieldTypeValues}">
														<ice:inputText value="#{metricDomainConfigCreationBean.fieldTypeToAdd}"
																	   style="#{metricDomainConfigCreationBean.typeValueStyle}"/>
														<ice:commandButton actionListener="#{metricDomainConfigCreationBean.addNewFieldTypeValue}"
																		   image="/images/IndiKtor2.0/Buttons/addSmall.png"
														    			   value="Add Value"
														    			   title="Add Value"/>
														<ice:outputLabel value="Mandatory"
																	     style="color: red; font-size: 10px;"
																	     rendered="#{metricDomainConfigCreationBean.typeValueMandatory}"/>
														<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.typeValueMandatory}"/>
														<ice:outputLabel value="This type value is already used !"
																	     style="color: red; font-size: 10px;"
																	     rendered="#{metricDomainConfigCreationBean.typeValueError}"/>
														<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.typeValueError}"/>
														<ice:outputLabel value="Please, choose another type value"
																	     style="color: red; font-size: 10px;"
																	     rendered="#{metricDomainConfigCreationBean.typeValueError}"/>
														<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.typeValueError}"/>
													</ice:panelGrid>
													<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.renderFieldTypeValues}"/>
													<ice:panelGroup rendered="#{metricDomainConfigCreationBean.renderFieldTypeValues}">
														<ice:dataTable var="value" 
																	   value="#{metricDomainConfigCreationBean.configFieldToAdd.fieldTypeValues}"
																	   rendered="#{metricDomainConfigCreationBean.renderFieldTypeValueList}"
																	   columnWidths="140, 20"
																	   scrollable="true" scrollHeight="78px">
															<ice:column>
																<f:facet name="header">
													                <ice:outputLabel value="Value"/>
													            </f:facet>
													            <ice:outputText value="#{value}" style="font-size: 10px;"/>
															</ice:column>
															<ice:column>
																<f:facet name="header">
													                <ice:outputLabel value=""/>
													            </f:facet>
													            <ice:commandButton 	image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
																     			 	actionListener="#{metricDomainConfigCreationBean.removeFieldTypeValue}"
																     			 	title="Remove this Field Type Value">
																	<f:attribute name="fieldTypeValueToRemove" value="#{value}"/>
																</ice:commandButton>
															</ice:column>
														</ice:dataTable>
														<ice:outputText value="Type Value empty" style="font-size: 10px; font-weight: bold;"
																		rendered="#{!metricDomainConfigCreationBean.renderFieldTypeValueList}"/>
														<BR/><BR/>	
														<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.noTypeValue}"/>
														<ice:outputLabel value="A menu type must have at least one type value"
																		 rendered="#{metricDomainConfigCreationBean.noTypeValue}"
																		 style="color: red; font-size: 10px;"/>	
													</ice:panelGroup>
													<BR/><BR/>
													<!-- 
													<ice:panelGroup rendered="#{metricDomainConfigCreationBean.renderFieldTypeValues}">
														<table border="0" cellpadding="10">
															<tr valign="top" style="font-size: 11px; font-weight: bold">
																<td>
																	<ice:dataTable var="value" 
																				   value="#{metricDomainConfigCreationBean.configFieldToAdd.fieldTypeValues}"
																				   rendered="#{metricDomainConfigCreationBean.renderFieldTypeValueList}">
																		<ice:column>
																			<f:facet name="header">
																                <ice:outputLabel value="Value"/>
																            </f:facet>
																            <ice:outputText value="#{value}" style="font-size: 10px; width: 100px"/>
																		</ice:column>
																		<ice:column>
																			<f:facet name="header">
																                <ice:outputLabel value=""/>
																            </f:facet>
																            <ice:commandButton 	image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
																			     			 	actionListener="#{metricDomainConfigCreationBean.removeFieldTypeValue}"
																			     			 	title="Remove this Field Type Value">
																				<f:attribute name="fieldTypeValueToRemove" value="#{value}"/>
																			</ice:commandButton>
																		</ice:column>
																	</ice:dataTable>
																	<ice:outputText value="Type Value empty" style="font-size: 10px; font-weight: bold;" rendered="#{!metricDomainConfigCreationBean.renderFieldTypeValueList}"/>
																</td>
																<td>
																	<ice:inputText value="#{metricDomainConfigCreationBean.fieldTypeToAdd}" style="font-size: 10px; width: 100px"/>
																	<ice:commandButton actionListener="#{metricDomainConfigCreationBean.addNewFieldTypeValue}"
																					   image="/images/IndiKtor2.0/Buttons/addSmall.png"
																	    			   value="Add Value"
																	    			   title="Add Value"/>
																</td>
															</tr>
														</table>
													</ice:panelGroup>
													 -->
													<ice:outputLabel value="Enable"/>
													<ice:selectBooleanCheckbox value="#{metricDomainConfigCreationBean.configFieldToAdd.enable}"/>																			
												</ice:panelGrid>
												<ice:commandButton actionListener="#{metricDomainConfigCreationBean.addNewAttribute}"
																   image="/images/IndiKtor2.0/Buttons/addSmall.png"
												    			   value="Add Attribute"
												    			   title="Add Attribute"
												    			   style="float: right;"/>
									    	</ice:panelGrid>
									    </ice:panelGroup>
									</td>
									<td>
										<ice:panelGroup scrollHeight="500px" scrollWidth="400px" style="border: 1px solid #336699; text-align: center; width: 100%;">
											<ice:outputLabel value="Attribute Field Config"/>
											 <BR/><BR/>
											<ice:dataTable var="configField" 
														   value="#{metricDomainConfigCreationBean.fields}"
														   rendered="#{metricDomainConfigCreationBean.attributeConfigListRenderered}"
														   width="360">
												<ice:column>
													<f:facet name="header">
										                <ice:outputLabel value="Name"/>
										            </f:facet>
										            <ice:inputText value="#{configField.name}" title="#{configField.name}" style="font-size: 10px; width: 150px"/>
												</ice:column>
												<ice:column>
													<f:facet name="header">
										                <ice:outputLabel value="Label"/>
										            </f:facet>
										            <ice:inputText value="#{configField.label}" title="#{configField.label}" style="font-size: 10px; width: 150px"/>
												</ice:column>
												<ice:column>
													<f:facet name="header">
										                <ice:outputLabel value=""/>
										            </f:facet>
										            <ice:commandButton 	image="/images/IndiKtor2.0/Buttons/editSmall.png"
													     			 	actionListener="#{metricDomainConfigCreationBean.editAttribute}"
													     			 	title="Remove this attribute Config">
													     <f:attribute name="attrId" value="#{configField.id}"/>
													     <f:attribute name="attrName" value="#{configField.name}"/>
													</ice:commandButton>
										            <ice:commandButton 	image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
													     			 	actionListener="#{metricDomainConfigCreationBean.removeAttribute}"
													     			 	title="Remove this attribute Config"
													     			 	style="padding-left: 5px;">
													     <f:attribute name="attrId" value="#{configField.id}"/>
													     <f:attribute name="attrName" value="#{configField.name}"/>
													</ice:commandButton>
												</ice:column>
											</ice:dataTable>
											<ice:outputText value="No attribute configured" style="font-size: 10px; font-weight: bold;" rendered="#{!metricDomainConfigCreationBean.attributeConfigListRenderered}"/>
										</ice:panelGroup>
									</td>
								</tr>
							</table>	
						</ice:panelGroup>					
					</ice:panelTab>
					<ice:panelTab id="tab3" label="Business Items">
						<ice:panelGroup columns="1"  style="align: center; width: 710px;" scrollHeight="555px">
							<table border="0" cellpadding="10">
								<tr valign="top" style="font-size: 11px; font-weight: bold">
									<td>
										<ice:panelGroup style="border: 1px solid #336699; text-align: center; width: 260px;">
											<ice:outputLabel value="Add Business Item"/>
											 <BR/><BR/>
											<ice:panelGrid columns="2" style="width: 100%">
												<ice:outputLabel value="Name"/>
												<ice:panelGrid columns="2">
													<ice:inputText value="#{metricDomainConfigCreationBean.businessItemToAdd}"
																   style="#{metricDomainConfigCreationBean.businessItemStyle}"/>										
													<ice:commandButton actionListener="#{metricDomainConfigCreationBean.addNewBusinessItem}"
																	   image="/images/IndiKtor2.0/Buttons/addSmall.png"
													    			   value="Add Item"
													    			   title="Add Item"/>
												</ice:panelGrid>
												<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.businessItemMandatory}"/>
												<ice:outputLabel value="Mandatory"
															     style="color: red; font-size: 10px;"
															     rendered="#{metricDomainConfigCreationBean.businessItemMandatory}"/>
												<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.businessItemError}"/>
												<ice:outputLabel value="This business item is already used !"
															     style="color: red; font-size: 10px;"
															     rendered="#{metricDomainConfigCreationBean.businessItemError}"/>
												<ice:outputLabel value="" rendered="#{metricDomainConfigCreationBean.businessItemError}"/>
												<ice:outputLabel value="Please, choose another business item."
															     style="color: red; font-size: 10px;"
															     rendered="#{metricDomainConfigCreationBean.businessItemError}"/>
									    	</ice:panelGrid>
									    </ice:panelGroup>
									</td>
									<td>
										<ice:panelGroup scrollHeight="500px" scrollWidth="400px"
														style="border: 1px solid #336699; text-align: center; width: 100%;">
											<ice:outputLabel value="Business Item"/>
											<BR/><BR/><BR/>
											<ice:dataTable var="item" 
														   value="#{metricDomainConfigCreationBean.businessItems}"
														   rendered="#{metricDomainConfigCreationBean.businessItemsConfigListRenderered}"
														   width="375">
												<ice:column>
													<f:facet name="header">
										                <ice:outputLabel value="Name"/>
										            </f:facet>
										            <ice:inputText value="#{item}" style="font-size: 10px; width: 330px"/>
												</ice:column>
												<ice:column>
													<f:facet name="header">
										                <ice:outputLabel value=""/>
										            </f:facet>
										            <ice:commandButton image="/images/IndiKtor2.0/Buttons/deleteSmall.png"
													     			 	actionListener="#{metricDomainConfigCreationBean.removeBusinessItem}"
													     			 	title="Remove this Business Item">
													      <f:attribute name="itemName" value="#{item}"/>
													</ice:commandButton>
												</ice:column>
											</ice:dataTable>
											<ice:outputText value="No business item configured" style="font-size: 10px; font-weight: bold;" rendered="#{!metricDomainConfigCreationBean.businessItemsConfigListRenderered}"/>
										</ice:panelGroup>
									</td>
								</tr>
							</table>
						</ice:panelGroup>
					</ice:panelTab>
				</ice:panelTabSet>
			</td>
		</tr>
	</table>
	<ice:panelConfirmation 	id="deleteConfirmPanel" 
						message="Are you sure to delete this Metric Domain Config ?"
                   		acceptLabel="Delete" 
                   		rendered="true"
                   		autoCentre="true"/>
</f:subview>