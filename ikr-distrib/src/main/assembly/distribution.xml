<assembly
        xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>tar</id>
    <formats>
        <format>tar</format>
    </formats>
    <includeBaseDirectory>true</includeBaseDirectory>
    <fileSets>
        <fileSet>
            <directory>src/main/assembly/apache-activemq</directory>
            <outputDirectory>apps/activemq</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>src/main/resources/scripts/unix</directory>
            <outputDirectory>bin/unix</outputDirectory>
            <fileMode>755</fileMode>
            <lineEnding>unix</lineEnding>
        </fileSet>
        <fileSet>
            <directory>src/main/resources/scripts/win</directory>
            <outputDirectory>bin/win</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>src/main/resources/configs</directory>
            <outputDirectory>configs</outputDirectory>
            <includes><include>*.properties</include></includes>
        </fileSet>
        <fileSet>
            <directory>src/main/resources/dashboard</directory>
            <outputDirectory>resources/dashboard</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>src/main/resources/sql</directory>
            <outputDirectory>deploy/sql</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>../components/toolkits/src/main/resources/scripts</directory>
            <outputDirectory>deploy/scripts</outputDirectory>
        </fileSet>
        <fileSet>
            <directory>../components/toolkits/src/main/resources/toolkits</directory>
            <outputDirectory>deploy/configs</outputDirectory>
        </fileSet>
    </fileSets>
    <files>
        <file>
            <source>../components/compute-server/target/compute-server-${version}.tar</source>
            <outputDirectory>deploy/servers</outputDirectory>
            <destName>compute-server.tar</destName>
        </file>
        <file>
            <source>../components/monitor-server/target/monitor-server-${version}.tar</source>
            <outputDirectory>deploy/servers</outputDirectory>
            <destName>monitor-server.tar</destName>
        </file>
        <file>
            <source>../components/scheduler-server/target/scheduler-server-${version}.tar</source>
            <outputDirectory>deploy/servers</outputDirectory>
            <destName>scheduler-server.tar</destName>
        </file>
        <file>
            <source>../components/system-agent/target/system-agent-${version}.tar</source>
            <outputDirectory>deploy/servers</outputDirectory>
            <destName>system-agent.tar</destName>
        </file>
        <file>
            <source>../components/indiktor/target/indiktor-${version}.tar</source>
            <outputDirectory>deploy/servers</outputDirectory>
            <destName>web-server.tar</destName>
        </file>
    </files>
    <dependencySets>
        <!-- the following dependency set includes the dependency JARs needed by
            the main Java executable for indicator processing -->
        <dependencySet>
            <outputDirectory>deploy/lib</outputDirectory>
            <useProjectArtifact>true</useProjectArtifact>
            <scope>runtime</scope>
            <unpack>false</unpack>
        </dependencySet>
    </dependencySets>
</assembly>